Based on Functional combined with tactical.
---

I wanted to have a couple of brightness settings, a special random blinking mode, and have the button turn directly OFF after a short time during which the button chooses the mode.

Bike functions 
* random period flashing for maximum visibility
 * the flashes use the interesting blinky mode from "functional" which brings the light on (to full) and then reduces it to 0 over a random (short) length of time. 
 * I added the random periods - random on length and random off period.
* two other modes - medium and high - for night illumination of the road as a normal light.

Use
* First press medium brightness
* subsequent short presses change between medium and high brightness
* short press after 650 ms results in OFF 
* medium long press (>300ms and <1000ms) results in random blinky mode
* really long press >100ms results in OFF